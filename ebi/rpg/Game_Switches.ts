/// <reference path='./DataManager.ts' />

//==============================================================================
// ■ Game_Switches;
//------------------------------------------------------------------------------
// 　スイッチを扱うクラスです。組み込みクラス Array のラッパーです。このクラス
// のインスタンスは DataManager.gameSwitches で参照されます。
//==============================================================================

module ebi {
    export module rpg {
        export class Game_Switches {
            //--------------------------------------------------------------------------
            // # Private
            //--------------------------------------------------------------------------
            private data_: bool[];

            //--------------------------------------------------------------------------
            // ● オブジェクト初期化
            //--------------------------------------------------------------------------
            constructor() {
                this.data_ = [];
            }

            //--------------------------------------------------------------------------
            // ● スイッチの取得
            //--------------------------------------------------------------------------
            public get(switchId: number): bool {
                return this.data_[switchId] || false;
            }

            //--------------------------------------------------------------------------
            // ● スイッチの設定
            //         value : ON (true) / OFF (false);
            //--------------------------------------------------------------------------
            public set(switchId: number, value: bool): void {
                this.data_[switchId] = value;
                this.onChange();
            }

            //--------------------------------------------------------------------------
            // ● スイッチの設定時の処理
            //--------------------------------------------------------------------------
            public onChange(): void {
                DataManager.gameMap.needRefresh = true;
            }
        }
    }
}

