/// <reference path='./DataManager.ts' />
//==============================================================================
// ■ Game_Variables;
//------------------------------------------------------------------------------
// 　変数を扱うクラスです。組み込みクラス Array のラッパーです。このクラスのイ
// ンスタンスは DataManager.gameVariables で参照されます。
//==============================================================================

module ebi {
    export module rpg {
        class Game_Variables {
            //--------------------------------------------------------------------------
            // # Private
            //--------------------------------------------------------------------------
            private data_: number[];

            //--------------------------------------------------------------------------
            // ● オブジェクト初期化
            //--------------------------------------------------------------------------
            constructor() {
                this.data_ = [];
            }

            //--------------------------------------------------------------------------
            // ● 変数の取得
            //--------------------------------------------------------------------------
            public get(variableId: number): number {
                return this.data_[variableId] || 0;
            }

            //--------------------------------------------------------------------------
            // ● 変数の設定
            //--------------------------------------------------------------------------
            public set(variableId: number, value: number): void {
                this.data_[variableId] = value;
                this.onChange();
            }

            //--------------------------------------------------------------------------
            // ● 変数の設定時の処理
            //--------------------------------------------------------------------------
            public onChange(): void {
                DataManager.gameMap.needRefresh = true;
            }
        }
    }
}
