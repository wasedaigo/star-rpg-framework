/// <reference path='./DataManager.ts' />
//==============================================================================
// ■ Game_SelfSwitches;
//------------------------------------------------------------------------------
// 　セルフスイッチを扱うクラスです。組み込みクラス Hash のラッパーです。このク
// ラスのインスタンスは DataManager.gameSelfSwitches で参照されます。
//==============================================================================

module ebi {
    export module rpg {
        export class Game_SelfSwitches {
            //--------------------------------------------------------------------------
            // # Private
            //--------------------------------------------------------------------------
            private data_: {};

            //--------------------------------------------------------------------------
            // ● オブジェクト初期化
            //--------------------------------------------------------------------------
            constructor() {
                this.data_ = {};
            }

            //--------------------------------------------------------------------------
            // ● セルフスイッチの取得
            //--------------------------------------------------------------------------
            public get(key: any): bool {
                return this.data_[key] == true;
            }

            //--------------------------------------------------------------------------
            // ● セルフスイッチの設定
            //         value : ON (true) / OFF (false);
            //--------------------------------------------------------------------------
            public set(key: any, value: bool): void {
                this.data_[key] = value;
                this.onChange();
            }

            //--------------------------------------------------------------------------
            // ● セルフスイッチの設定時の処理
            //--------------------------------------------------------------------------
            public onChange(): void {
                DataManager.gameMap.needRefresh = true;
            }
        }
    }
}

